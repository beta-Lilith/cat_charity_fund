# QRKOT - ПРИЛОЖЕНИЕ ДЛЯ БЛАГОТВОРИТЕЛЬНОГО ФОНДА ПОДДЕРЖКИ КОТИКОВ

## ТЕХНОЛОГИИ  
- Python 3.9  
- FastAPI 0.78  
- SQLAlchemy 1.4  
- Alembic 1.7  

## ОПИСАНИЕ ПРОЕКТА (API)  
Проекты:  
В Фонде QRKot может быть открыто несколько целевых проектов. У каждого проекта есть название, описание и сумма, которую планируется собрать. После того, как нужная сумма собрана — проект закрывается.  
Пожертвования в проекты поступают по принципу First In, First Out: все пожертвования идут в проект, открытый раньше других; когда этот проект набирает необходимую сумму и закрывается — пожертвования начинают поступать в следующий проект.  
Пожертвования:  
Каждый пользователь может сделать пожертвование и сопроводить его комментарием. Пожертвования не целевые: они вносятся в фонд, а не в конкретный проект. Каждое полученное пожертвование автоматически добавляется в первый открытый проект, который ещё не набрал нужную сумму. Если пожертвование больше нужной суммы или же в Фонде нет открытых проектов — оставшиеся деньги ждут открытия следующего проекта. При создании нового проекта все неинвестированные пожертвования автоматически вкладываются в новый проект.  
Пользователи:  
Целевые проекты создаются администраторами сайта.  
Любой пользователь может видеть список всех проектов, включая требуемые и уже внесенные суммы. Это касается всех проектов — и открытых, и закрытых.  
Зарегистрированные пользователи могут отправлять пожертвования и просматривать список своих пожертвований.    

## УСТАНОВКА И ЗАПУСК ПРОЕКТА  
Клонировать репозиторий  
```
git clone git@github.com:beta-Lilith/cat_charity_fund
```  
Перейти в директорию проекта  
```
cd cat_charity_fund/  
```  
Создать и активировать виртуальное окружение, установить зависимости  
```
python -m venv venv
```  
```
. venv/Script/activate
```  
```
pip install - r requirements.txt
```  
Создайте файл .env:  
```
DATABASE_URL=<подключение БД>
SECRET=<секретный ключ для генерации токенов>
FIRST_SUPERUSER_EMAIL=<email администратора>
FIRST_SUPERUSER_PASSWORD=<пароль администратора>
EMAIL=<email с привязанным аккаунтом Google>

<Данные ключа доступа к вашему сервисному аккаунту на Google Cloud Platform>
TYPE=...
PROJECT_ID=...
PRIVATE_KEY_ID=...
PRIVATE_KEY=...
CLIENT_EMAIL=...
CLIENT_ID=...
AUTH_URI=...
TOKEN_URI=...
AUTH_PROVIDER_X509_CERT_URL=...
CLIENT_X509_CERT_URL=...
<-------------------------------------------------------------------------->

```  
Примените миграции:  
```
alembic upgrade head
```  
Запустите проект:  
```
uvicorn app.main:app --reload
```  
Готово!  

## ДОКУМЕНТАЦИЯ к API  
Доступна по адресам:  
[Swagger](http://127.0.0.1:8000/docs)  
[Redoc](http://127.0.0.1:8000/redoc)  

## АВТОР  
Оскомова Ксения ([github](https://github.com/beta-Lilith))